# Render configuration: 1 service para backend (Docker), 1 para frontend (Docker)
# Antes de hacer deploy crea los servicios en Render o sube este archivo al repo.

services:
  - type: web
    name: sigc-backend-api
    env: docker
    dockerfilePath: Dockerfile
    plan: starter
    autoDeploy: true
    envVars:
      - key: SPRING_PROFILES_ACTIVE
        value: prod
      - key: SPRING_DATASOURCE_URL
        # value: postgres://user:password@host:5432/dbname  <= configurar en el panel de Render
        value: ${POSTGRES_URL}
      - key: JWT_SECRET
        value: ${JWT_SECRET}

  - type: web
    name: sigc-frontend
    env: docker
    dockerfilePath: sigc-frontend/Dockerfile
    plan: starter
    autoDeploy: true
